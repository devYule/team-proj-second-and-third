"use strict";(self.webpackChunkelectro_rent=self.webpackChunkelectro_rent||[]).push([[865],{2511:(t,a,o)=>{o.d(a,{P0:()=>i,T6:()=>r,_K:()=>l,aA:()=>s,wN:()=>n});var e=o(5294),c=o(3014);const n=async t=>{let{obj:a}=t;try{const t={headers:{"Content-Type":"multipart/form-data"}},o=await e.Z.post("".concat(c.L,"/api/user/signup"),a,t);if("2"===o.status.toString().charAt(0))return console.log({...o.data}),o.data;alert("\ub370\uc774\ud130 \uc804\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}catch(o){console.log(o)}},r=async(t,a,o)=>{try{const o=await e.Z.post("".concat(c.L,"/api/user/check"),t);"2"===o.status.toString().charAt(0)?(console.log({...o.data}),a(o.data)):alert("\ub370\uc774\ud130 \uc804\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}catch(n){o()}},s=async(t,a,o)=>{try{const o=await e.Z.post("".concat(c.L,"/api/user/check"),t);"2"===o.status.toString().charAt(0)?(console.log({...o.data}),a(o.data)):alert("\ub370\uc774\ud130 \uc804\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}catch(n){o()}},i=async t=>{try{return(await e.Z.post("".concat(c.L,"/api/user/verification"),t)).data}catch(a){console.log("error")}},l=async t=>{try{if(!t)return void console.log("id\uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");return(await e.Z.get("".concat(c.L,"/api/user/verification?id=").concat(t))).data}catch(a){console.log("error")}}},7902:(t,a,o)=>{o.d(a,{T8:()=>l,XQ:()=>s,hP:()=>i,tf:()=>u});var e=o(5294);const c="beae94b18549648a1e9a98b4e0d945b2",n="http://localhost:3000/login/kakao",r=new URLSearchParams({client_id:c,redirect_uri:n,response_type:"code"}),s=()=>"".concat("https://kauth.kakao.com/oauth/authorize","?").concat(r.toString()),i=async t=>{const a={grant_type:"authorization_code",client_id:c,redirect_uri:n,code:t};return(await e.Z.post("https://kauth.kakao.com/oauth/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}})).data.access_token},l=async t=>{const a=await fetch("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:"Bearer ".concat(t)}});if(a.ok){return await a.json()}throw new Error("Failed to get member info")},u=async t=>{(await fetch("https://kapi.kakao.com/v1/user/logout",{method:"POST",headers:{Authorization:"Bearer ".concat(t)}})).ok?(console.log("Logout successful"),document.cookie="cookieName=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"):console.log("Logout failed")}},724:(t,a,o)=>{o.d(a,{Z:()=>i});var e=o(4420),c=o(5772),n=o(8089),r=o(7902),s=o(184);const i=()=>{const t=(0,c.s0)(),a=(0,e.I0)();return{loginState:(0,e.v9)((t=>t.loginSlice)),isLogin:"true"===sessionStorage.getItem("isLogin"),doLogin:async t=>{let{loginParam:o,successFn:e,failFn:c,errorFn:r}=t;return(await a((0,n.ft)({loginParam:o,successFn:e,failFn:c,errorFn:r}))).payload},doLogout:()=>{a((0,n.kS)()),(0,r.tf)()},moveToPath:a=>{t({pathname:a},{replace:!0})},moveToLogin:()=>(0,s.jsx)(c.Fg,{replace:!0,to:"/member/login"}),userAuth:sessionStorage.getItem("userAuth")}}},2865:(t,a,o)=>{o.r(a),o.d(a,{default:()=>d});var e=o(2791),c=o(5772),n=o(1087),r=o(7902),s=o(4420),i=o(8089),l=o(724),u=o(2511),h=o(184);const d=()=>{const t=(0,c.s0)(),[a,o]=(0,n.lr)(),d=a.get("code"),g=(0,s.I0)(),{moveToPath:p}=(0,l.Z)();return(0,e.useEffect)((()=>{(0,r.hP)(d).then((async a=>{console.log("access Token",a),(0,r.T8)(a).then((async a=>{g((0,i.x4)(a));const o=a.properties.nickname,e=a.kakao_account.email,c=a.id;console.log("Unique ID: ",c),console.log("Nickname: ",o),console.log("Email: ",e);const n={div:2,uid:c,nick:"nickname"};await(0,u.aA)(n);try{t("/join/kakao?uniqueID=".concat(c))}catch(r){t("/")}}))}))}),[d]),(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"\uce74\uce74\uc624 \ub9ac\ub2e4\uc774\ub809\ud2b8 \ud398\uc774\uc9c0"}),(0,h.jsx)("div",{children:d})]})}}}]);
//# sourceMappingURL=865.4d2e376f.chunk.js.map