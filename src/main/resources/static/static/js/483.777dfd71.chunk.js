"use strict";(self.webpackChunkelectro_rent=self.webpackChunkelectro_rent||[]).push([[483],{8483:(e,s,n)=>{n.r(s),n.d(s,{default:()=>y});var i=n(2791),t=n(5787),r=n(3767),l=n(9008),c=n(217),a=n(5772),o=n(41),d=n(8007),h=n(4695),x=n(1134),j=n(2441),m=n(2511),p=n(801),u=n(3404),g=n(184);const y=()=>{var e,s,n;const[y,v]=(0,i.useState)(!1),[f,S]=(0,i.useState)(!1),[k,b]=(0,i.useState)(!1),[Z,C]=(0,i.useState)(!1),w=()=>{v(!0),S(!0)},L=()=>{b(!0)},[_,F]=(0,i.useState)("".concat("","/images/join/join_img.svg")),[I,M]=(0,i.useState)(null),[N,R]=(0,i.useState)(!1),q=d.Ry().shape({nickname:d.Z_().max(20,"20\uc790\uae4c\uc9c0\ub9cc \uc785\ub825\ud558\uc138\uc694 ").required("\ub2c9\ub124\uc784\uc740 \ud544\uc218 \uc785\ub825 \uc0ac\ud56d\uc785\ub2c8\ub2e4."),phoneNumber:d.Z_().matches(/^(\d{3})-(\d{4})-(\d{4})$/,"\uc804\ud654\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.").required("\ud734\ub300\ud3f0 \ubc88\ud638\ub294 \ud544\uc218 \uc785\ub825 \uc0ac\ud56d\uc785\ub2c8\ub2e4."),email:d.Z_().email("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.").required("\uc774\uba54\uc77c\uc740 \ud544\uc218 \uc785\ub825 \uc0ac\ud56d\uc785\ub2c8\ub2e4.").max(30,"30\uc790\uae4c\uc9c0\ub9cc \uc785\ub825\ud558\uc138\uc694 ")}),{register:D,handleSubmit:H,formState:O,watch:Y}=(0,x.cI)({resolver:(0,h.X)(q),mode:"onChange"}),B=new URLSearchParams(location.search).get("accessToken"),E=B.substring(0,8),T=B.length-8,U=B.substring(T),[V,A]=(0,i.useState)(""),P=Y("nickname"),J=Y("phoneNumber"),[K,X]=(0,i.useState)(""),[$,z]=(0,i.useState)(""),[G,Q]=(0,i.useState)(0),W=Y("email"),[ee,se]=(0,i.useState)(!1),[ne,ie]=(0,i.useState)(""),[te,re]=(0,i.useState)(!1),[le,ce]=(0,i.useState)(),[ae,oe]=(0,i.useState)(!1),[de,he]=(0,i.useState)(!1),xe=(0,a.s0)();return(0,g.jsxs)(t.Z,{children:[f&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.Z,{txt:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4.",onConfirm:()=>{S(!1)}}),(0,g.jsx)(j.v,{})]}),k&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.Z,{txt:"\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4.",onConfirm:()=>{b(!1)}}),(0,g.jsx)(j.v,{})]}),Z&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.Z,{txt:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onConfirm:()=>{C(!1)}}),(0,g.jsx)(j.v,{})]}),ee&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{closeModal:()=>{se(!1)},onConfirm:async e=>{try{let s;s=await(0,m._K)(e),s?(ce(s),se(!1),re(!0)):console.log("Result is empty")}catch(s){console.log(s)}},verificationId:ne,setVerificationId:ie}),(0,g.jsx)(j.v,{})]}),ae&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{closeModal:()=>{oe(!1)},verifiData:le}),(0,g.jsx)(j.v,{})]}),N&&(0,g.jsx)(o.u,{handleClose:()=>{R(!1)},children:(0,g.jsx)(r.ZP,{onComplete:e=>{const s=e.address;X(s),R(!1),console.log(K)},autoClose:!1})}),(0,g.jsxs)(l.fx,{children:[(0,g.jsxs)(c.EL,{children:[(0,g.jsx)("p",{children:"\ud68c\uc6d0\uac00\uc785"}),(0,g.jsx)("img",{src:"/images/join/join_step2.svg"})]}),(0,g.jsxs)(l.ve,{onSubmit:H((async()=>{const e=new FormData,s=new Blob([JSON.stringify({addr:K,restAddr:$,uid:E,upw:U,nick:P,phone:J,email:W,isValid:G,iverificationInfo:ne})],{type:"application/json"});if(e.append("dto",s),I){console.log(I);const s=await fetch(_),n=await s.blob(),i=new Date,t=Math.floor(i.getTime()/1e3),r=new File([n],"image".concat(t,".jpg"),{type:"image/jpeg"});e.append("pic",r)}for(const i of e.entries())console.log(i[0]+": "+i[1]);try{(0,m.wN)({obj:e}),xe("/join/step_3?nick=".concat(P))}catch(n){console.log(n)}})),children:[(0,g.jsxs)(l.SL,{children:[(0,g.jsxs)(l.rs,{children:[(0,g.jsx)("p",{children:"\uc0ac\uc9c4"}),(0,g.jsx)("span",{children:"*"})]}),(0,g.jsxs)(l.ay,{children:[(0,g.jsxs)(l.MY,{children:[(0,g.jsx)("label",{htmlFor:"img",children:(0,g.jsx)(l.ft,{type:"button",onClick:()=>{document.getElementById("img").click()},children:(0,g.jsx)("img",{src:_,alt:""})})}),(0,g.jsx)("input",{type:"file",...D("photo"),accept:"image/png, image/gif, image/jpeg",onClick:()=>{document.getElementById("img").click()},onChange:e=>{(e=>{const s=e.target.files[0];if(s){const e=URL.createObjectURL(s);F(e),M(s)}})(e)},id:"img",style:{display:"none"}})]})," ",null===I&&de?(0,g.jsx)(l.ZZ,{children:"\uc0ac\uc9c4\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}):""]})]}),(0,g.jsxs)(l.SL,{children:[(0,g.jsxs)(l.rs,{children:[(0,g.jsx)("p",{children:"\ub2c9\ub124\uc784"}),(0,g.jsx)("span",{children:"*"})]}),(0,g.jsxs)(l.ay,{children:[(0,g.jsxs)(l.MY,{width:"440px",children:[(0,g.jsx)("input",{type:"text",maxLength:20,placeholder:"20\uc790 \uc774\ub0b4",name:"nickname",...D("nickname")}),P?(0,g.jsx)(l.Hg,{onClick:e=>{e.preventDefault(),(()=>{const e={div:1,uid:"userId123",nick:P};(0,m.T6)(e,(()=>{Q(2),w()}),L)})()},type:"button",children:"\uc911\ubcf5 \ud655\uc778"}):(0,g.jsx)(l.Hg,{onClick:()=>{C(!0)},type:"button",children:"\uc911\ubcf5 \ud655\uc778"})]}),de&&O.errors.nickname&&(0,g.jsx)(l.ZZ,{children:null===(e=O.errors.nickname)||void 0===e?void 0:e.message}),de&&!y&&!O.errors.nickname&&(0,g.jsx)(l.ZZ,{children:"\ub2c9\ub124\uc784 \uc911\ubcf5 \ud655\uc778\uc744 \ud574\uc8fc\uc138\uc694."})]})]}),(0,g.jsxs)(l.SL,{children:[(0,g.jsxs)(l.rs,{children:[(0,g.jsx)("p",{children:"\ud734\ub300\ud3f0 \ubc88\ud638"}),(0,g.jsx)("span",{children:"*"})]}),(0,g.jsxs)(l.ay,{children:[(0,g.jsxs)(l.MY,{width:"440px",children:[(0,g.jsx)("input",{type:"text",placeholder:"\uc608) 010-0000-0000",name:"phoneNumber",...D("phoneNumber")}),!0===te?(0,g.jsx)(l.Hg,{width:"130px",type:"button",onClick:()=>{oe(!0)},children:"\ubcf8\uc778 \uacb0\uacfc \ud655\uc778"}):(0,g.jsx)(l.Hg,{width:"130px",type:"button",onClick:()=>{se(!0)},children:"\ubcf8\uc778 \uc778\uc99d \ud655\uc778"})]}),(0,g.jsx)(l.ZZ,{children:null===(s=O.errors.phoneNumber)||void 0===s?void 0:s.message})]})]}),(0,g.jsxs)(l.SL,{children:[(0,g.jsxs)(l.rs,{children:[(0,g.jsx)("p",{children:"\uc8fc\uc18c"}),(0,g.jsx)("span",{children:"*"})]}),(0,g.jsx)(l.ay,{children:(0,g.jsxs)(l.sp,{children:[(0,g.jsx)("input",{type:"text",value:K,placeholder:"\uc8fc\uc18c\ub97c \uac80\uc0c9\ud574\uc8fc\uc138\uc694.",onClick:()=>{R(!0)},readOnly:!0,name:"address",onChange:e=>{X(e.target.value)}}),de&&""===K&&(0,g.jsx)(l.ZZ,{children:"\uc8fc\uc18c\ub97c \uac80\uc0c9\ud574\uc8fc\uc138\uc694."}),(0,g.jsx)("input",{type:"text",value:$,placeholder:"\uc0c1\uc138 \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",name:"restAddress",onChange:e=>{z(e.target.value)}}),de&&""===$&&(0,g.jsx)(l.ZZ,{children:"\uc0c1\uc138 \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]})})]}),(0,g.jsxs)(l.SL,{children:[(0,g.jsxs)(l.rs,{children:[(0,g.jsx)("p",{children:"\uc774\uba54\uc77c"}),(0,g.jsx)("span",{children:"*"})]}),(0,g.jsxs)(l.ay,{children:[(0,g.jsx)(l.MY,{children:(0,g.jsx)("input",{type:"email",maxLength:30,placeholder:"\uc608) a123@naver.com",name:"email",...D("email")})}),de&&O.errors.email&&(0,g.jsx)(l.ZZ,{children:null===(n=O.errors.email)||void 0===n?void 0:n.message})]})]}),(0,g.jsxs)(l._q,{mgtop:"90px",mgbtm:"0px",children:[(0,g.jsx)(l.ty,{onClick:()=>{xe("/login")},children:"\ucde8\uc18c"}),O.isValid&&null!==I&&K&&$&&y&&idOverlapConfirm?(0,g.jsx)(l.c0,{type:"submit",children:"\uc800\uc7a5"}):(0,g.jsx)(l.c0,{onClick:e=>{he(!0)},children:"\uc800\uc7a5"})]})]})]})]})}}}]);
//# sourceMappingURL=483.777dfd71.chunk.js.map